# ~/.gitconfig

[core]
	excludesfiles = ~/.gitignore
	attributesfile = ~/.gitattributes
	#pager = most
	#editor = nano

[user]
	#name = User Name
	#email = useremail
	#signkey = signkey

[alias]
	s = show #--name-status
	l = log --tags --graph --color --pretty=format:"%C(yellow)%H%C(green)%d%C(reset)%n%x20%cd%n%x20%cn%x20(%ce)%n%x20%s%n"
        a = add --update
        t = "!git show-ref --tags | awk '{split($2,t,\"/\"); print t[3],substr($1,1,7)}' | sort --reverse --version-sort | awk '{print $2,$1}'"

	ls = "!git l --stat"
        lg = log --decorate --graph --oneline
        lga = "!git lg --all"
        lgm = "!git lg --author=\"`git config user.name`\""

	ci = commit --no-status
	ca = "!git ci --all"
	ar = "!git a && git ls-files --deleted -z | xargs -0 git rm 2>/dev/null"
        reci = "!git ci --amend"
        recia = "!git ci --amend --reset-author"
        cp = cherry-pick --no-commit
        cpc = "!git cp --continue"
        cpa = "!git cp --abort"

	co = checkout
	br = branch
        brv = branch -vv
	rc = rebase --continue
	rs = rebase --skip
	ra = rebase --abort

        ss = show --stat
	st = status --short --branch
	sm = submodule
	sf = show --name-status
	cat = "!git show $1:$2"

	df = diff --patch-with-stat
	dc = "!git df --cached"
	ds = diff --stat
	dfw = diff --word-diff
	dcw = "!git dfw --cached"

        parent = "!git rev-parse --abbrev-ref @{u} 2>/dev/null"
        track = "!f() { git branch -u $1/$2; }; f"
        untrack = branch --unset-upstream
        forget = "!f() { git push $1 --delete $2; }; f"
	squash = rebase -i HEAD~2

        cl = clean -d --force
	#authors = shortlog -sne
	authors = "!git log --format='%aN <%cE>' | sort -u"
        rank = "!git shortlog --summary --numbered | sed -r 's;^\\s+;;g' | tr '\t' ' '"
        info = "!cat `git rev-parse --git-dir`/config"

	re = reset --hard
	unadd = reset --mixed
	uncommit = reset --soft HEAD^
	unpull = reset --hard HEAD@{0}
	unmerge = reset --hard HEAD@{0}
	unrebase = reset --hard HEAD@{0}

	tgz = "!git archive --format=tar --prefix=`git rev-parse --short HEAD 2>/dev/null`/ HEAD | gzip > `git rev-parse --short HEAD 2>/dev/null`.tar.gz"
	# curl https://raw.githubusercontent.com/davidfokkema/git-rewrite-author/master/git-rewrite-author | python - -w "Old <>" "New <>"
        large1 = "!git rev-list --all --objects | awk '{print $1}' | git cat-file --batch-check | sort -k3nr | head -10"
        large2 = "!git rev-list --all --objects | grep $1 #"

[apply]
	whitespace = fix

[color]
	ui = auto

[merge]
	log = true

[pull]
	default = upstream

[push]
	default = tracking

[branch "master"]
	remote = origin
	merge = refs/heads/master
        rebase = true
        autosetuprebase = always

[branch "dev"]
	remote = origin
	merge = refs/heads/dev
        rebase = true
        autosetuprebase = always

[advice]
	pushNonFastForward = false
	statusHints = false

[credential]
	helper = cache --timeout=43200 # 12h

[i18n]
        commitEncoding = utf8
        logOutputEncoding = utf8

# EOF
